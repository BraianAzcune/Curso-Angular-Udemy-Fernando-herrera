<h2>Validaciones Reactivas</h2>
<hr>

<div class="row">
  <div class="col">
    <form [formGroup]="formulario" (submit)="submitFormulario()">
      <!-- nombre -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label" for="nombre">Nombre</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" placeholder="nombre de usuario" id="nombre" formControlName="nombre">
          <span [appMostrar]="mostrarWarningCampoInvalido('nombre')" class="form-text text-danger">Debe ser en formato
            nombre y apellido</span>
        </div>
      </div>
      <!-- Email -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label" for="email">Correo electronico</label>
        <div class="col-sm-9">
          <input type="email" class="form-control" placeholder="correo electronico" id="email" formControlName="email">
          <span [appMostrar]="mostrarWarningCampoInvalido('email')" class="form-text text-danger">
            {{emailErrorMsg}}
          </span>
        </div>
      </div>
      <!-- username -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label" for="username">Nombre de usuario</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" placeholder="nombre de usuario" id="username"
            formControlName="username">
          <!-- <span class="form-text text-danger">Debe ser mayor a 4 caracteres</span> -->
        </div>
      </div>
      <!-- password -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label" for="password">Contraseña</label>
        <div class="col-sm-7">
          <input [type]="mostrarPassword ? 'text': 'password'" class="form-control" placeholder="contraseña"
            id="password" formControlName="password">
          <span [appMostrar]="mostrarWarningCampoInvalido('password')" class="form-text text-danger">Debe ser mayor a 6
            caracteres</span>
        </div>
        <div class="col-sm-2">
          <button (click)="mostrarPassword = !mostrarPassword" type="button"
            class="btn btn-primary w-100">{{mostrarPassword ? "ocultar":"mostrar"}}</button>
        </div>
      </div>
      <!-- confirmar password -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label" for="confirmarPassword">confirmar contraseña</label>
        <div class="col-sm-7">
          <input [type]="mostrarPassword ? 'text': 'password'" class="form-control" placeholder="confirmar contraseña"
            id="confirmarPassword" formControlName="passwordConfirm">
          <span [appMostrar]="mostrarWarningCampoInvalido('passwordConfirm')" class="form-text text-danger">La
            contraseña debe coincidir</span>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <button type="submit" [disabled]="formulario.pending" class="btn btn-primary float-end">Crear usuario</button>
        </div>
      </div>
    </form>
  </div>
</div>

<h2>form valid</h2>
<pre>{{formulario.valid}}</pre>
<h2>value</h2>
<pre>{{formulario.value | json}}</pre>
<h2>email</h2>
<pre>{{formulario.controls['email'].errors | json}}</pre>
<h2>Username</h2>
<pre>{{formulario.controls['username'].errors | json}}</pre>
<h2>Form errors</h2>
<pre>{{formulario.errors | json}}</pre>
<h2>estado del formulario</h2>
<pre>{{formulario.status}}</pre>